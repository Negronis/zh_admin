(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2578606"],{"3fcc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Button",{ref:"button",staticStyle:{display:"none"},attrs:{id:"btn",type:"primary"},on:{click:e.test}},[e._v("销毁表格")]),e.showTable?a("vxe-grid",{ref:"xGrid",attrs:{border:"",resizable:"","highlight-hover-row":"","import-config":"","export-config":"","show-overflow":"tooltip","show-header-overflow":"tooltip","keep-source":"",height:e.Height-156+"px",align:"center","sort-config":{trigger:"cell"},"filter-config":{remote:!0},"form-config":e.tableForm,"pager-config":e.tablePage,toolbar:e.tableToolbar,"proxy-config":e.tableProxy,columns:e.tableColumn,"checkbox-config":{reserve:!0,highlight:!0,range:!0}},on:{"cell-dblclick":e.cellClickEvent,"page-change":e.thePageChange},scopedSlots:e._u([{key:"isXinshuai_default",fn:function(t){var i=t.row;return[e.refreshIswitch?a("iSwitch",{attrs:{value:"yes"==i.xinshuai},on:{"on-change":function(t){return e.changeXinshuai(i)}}}):e._e()]}},{key:"tools",fn:function(){return[a("i",{attrs:{title:"普通搜索"}},[a("Icon",{staticStyle:{"margin-top":"3px",cursor:"pointer"},attrs:{type:"ios-search",size:"25"},on:{click:e.showSearch}})],1)]},proxy:!0}],null,!1,596436719)}):e._e(),a("vxe-modal",{attrs:{"esc-closable":"",title:"查看详情",width:"600",mask:!1,"lock-view":!1,resize:""},model:{value:e.showDetails,callback:function(t){e.showDetails=t},expression:"showDetails"}},[a("vxe-table",{attrs:{border:"","auto-resize":"","show-overflow":"","highlight-hover-row":"",height:"auto","show-header":!1,"sync-resize":e.showDetails,data:e.detailData}},[a("vxe-table-column",{attrs:{field:"label",width:"40%"}}),a("vxe-table-column",{attrs:{field:"value"}})],1)],1)],1)},n=[],r=(a("d81d"),a("fb6a"),a("b64b"),a("d3b7"),a("4ae1"),a("25f0"),a("d4ec")),o=a("bee2"),l=a("262e"),c=a("99de"),s=a("7e84"),u=a("9ab4"),d=a("60a3"),h=a("e368"),f=a("525a"),p=a("0613"),m=(a("caad"),!0),g=function(e){var t=e.column;return!["nickname","role"].includes(t.property)},b={name:[{required:!0,message:"名称必须填写"},{min:3,max:50,message:"名称长度在 3 到 50 个字符"}],role:[{required:!0,message:"角色必须填写"}]},v={pageSize:15,pageSizes:[5,15,20,50,100,200,500,1e3]},w={data:{name:"",sex:""},title:"查询",titleWidth:100,titleAlign:"right",items:[{span:8,folding:m,field:"department_name",title:"科室名称",itemRender:{name:"input",attrs:{placeholder:"请输入科室名称"}}},{span:8,folding:m,field:"doctor_name",title:"医生姓名",itemRender:{name:"input",attrs:{placeholder:"请输入医生姓名"}}},{span:8,folding:m,field:"doctor_name",title:"医生姓名",itemRender:{name:"input",attrs:{placeholder:"请输入医生姓名"}}},{span:12,align:"right",itemRender:{name:"input",attrs:{type:"submit",value:"查询"}}},{span:12,align:"left",collapseNode:!0,itemRender:{name:"input",attrs:{type:"reset",value:"重置"}}}]},y={id:"full_edit_1",refresh:!0,import:!0,export:!0,zoom:{escRestore:!0},resizable:{storage:!0},custom:{storage:!0,checkMethod:g}},k=[{field:"hospital_name",title:"医院名称",minWidth:130,editRender:{name:"input"}},{field:"department_name",title:"科室名称",minWidth:130,editRender:{name:"input"}},{field:"doctor_name",title:"医生姓名",minWidth:130,editRender:{name:"input"}},{field:"follow_num",title:"随访数量",minWidth:80,editRender:{name:"input"}},{field:"follow_over",title:"随访结束",minWidth:80,editRender:{name:"input"}},{field:"contract_num",title:"建档数量",minWidth:80,editRender:{name:"input"}},{field:"contract_no_num",title:"未建档数量",minWidth:80,editRender:{name:"input"}}],x=a("c8be");function _(e){var t=R();return function(){var a,i=Object(s["a"])(e);if(t){var n=Object(s["a"])(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return Object(c["a"])(this,a)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){Object(l["a"])(a,e);var t=_(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showTable=!0,e.tablePage=v,e.tableToolbar=y,e.tableForm={},e.tableProxy=Object(x["a"])(f["d"]),e.tableColumn=k,e.validRules=b,e.loading=!1,e.curpage=0,e.pagesizes=15,e.curpages=0,e.refreshIswitch=!0,e.showDetails=!1,e.detailData=[],e}return Object(o["a"])(a,[{key:"thePageChange",value:function(e){var t=e.currentPage,a=e.pageSize;this.curpages=0==t?15:(t-1)*a,this.pagesizes=a}},{key:"refreshTable",value:function(){var e=this;h["a"].loading("列表刷新中",9999),Object(f["d"])(this.curpages,this.pagesizes).then((function(t){e.refreshIswitch=!1,h["a"].destory(),e.$refs.xGrid.loadData(t["data"]["rows"]),e.refreshIswitch=!0,h["a"].suc("列表刷新成功",2)})).catch((function(t){e.refreshIswitch=!0,h["a"].error("列表刷新失败，请尝试手动刷新",2)}))}},{key:"test",value:function(){this.refreshTable()}},{key:"changeXinshuai",value:function(e){var t=e.id;h["a"].loading("正在修改,请稍后",9999),t.then((function(e){h["a"].destory(),1===e.data.code?h["a"].suc(e.data.msg+",请等待列表刷新",2,(function(){document.querySelector("#btn").click()})):h["a"].error(e.data.msg+",请等待列表刷新",2,(function(){document.querySelector("#btn").click()}))}))}},{key:"showSearch",value:function(){var e=Object.keys(this.tableForm);0===e.length?this.tableForm=w:this.tableForm={}}},{key:"cellClickEvent",value:function(e){var t=e.row;this.detailData=k.slice(1).map((function(e){var a=e.field,i=e.title;if(a)return{label:i,value:t[a]}})),this.showDetails=!0}},{key:"created",value:function(){this.$nextTick((function(){}))}},{key:"Height",get:function(){return p["a"].getters.getHeight}}]),a}(d["c"]);z=u["a"]([Object(d["a"])({components:{}})],z);var D=z,S=D,j=a("2877"),O=Object(j["a"])(S,i,n,!1,null,null,null);t["default"]=O.exports},d81d:function(e,t,a){"use strict";var i=a("23e7"),n=a("b727").map,r=a("1dde"),o=a("ae40"),l=r("map"),c=o("map");i({target:"Array",proto:!0,forced:!l||!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);